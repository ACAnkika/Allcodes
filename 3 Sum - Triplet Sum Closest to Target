#include <iostream>
#include <limits.h>
#include <vector>
using namespace std;

int closest3Sum(vector<int> &arr, int target) {
    int n = arr.size();
    int minDiff = INT_MAX;
    int res = 0;

    // Generating all possible triplets
    for (int i = 0; i < n - 2; i++) {
        for (int j = i + 1; j < n - 1; j++) {
            for (int k = j + 1; k < n; k++) {
                int currSum = arr[i] + arr[j] + arr[k];
                int currDiff = abs(currSum - target);

                // if currentDiff is less than minDiff, it indicates
                // that this triplet is closer to the target
                if (currDiff < minDiff) {
                    res = currSum;
                    minDiff = currDiff;
                }
                // If multiple sums are closest, take maximum one
                else if(currDiff == minDiff) {
                	res = max(res, currSum);
                }
            }
        }
    }

    return res;
}

int main() {
    vector<int> arr = {-1, 2, 2, 4};
    int target = 4;
    cout << closest3Sum(arr, target);
    return 0;
}
